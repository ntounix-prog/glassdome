# Glassdome Environment Configuration
# Copy this to .env and fill in your actual values

# ===================================================
# Proxmox Configuration (Multi-Instance Support)
# ===================================================

# ===================================================
# Proxmox Instance 01 (Default/Backward Compatible)
# ===================================================

# Proxmox host (IP address or hostname)
# Example: 192.168.1.100 or proxmox.local
PROXMOX_HOST=your-proxmox-ip-or-hostname

# Proxmox user (format: username@realm)
# Common values: root@pam, apex@pve, admin@pve
PROXMOX_USER=apex@pve

# Authentication Method 1: API Token (RECOMMENDED)
# Create in Proxmox UI: Datacenter → Permissions → API Tokens → Add
# Token name (you choose this, e.g., glassdome-token)
PROXMOX_TOKEN_NAME=glassdome-token

# Token secret (UUID format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)
# Example: a1b2c3d4-1234-5678-9abc-def012345678
# This is shown ONLY ONCE when you create the token - copy it!
PROXMOX_TOKEN_VALUE=your-token-secret-here

# Authentication Method 2: Password (ALTERNATIVE)
# If you prefer password auth instead of token, use this:
# PROXMOX_PASSWORD=your-password-here

# SSL Verification (set to false for self-signed certificates)
PROXMOX_VERIFY_SSL=false

# Proxmox node name (check in Proxmox UI, usually 'pve')
PROXMOX_NODE=pve

# ===================================================
# Proxmox Instance 02 (Second Proxmox Platform)
# ===================================================

# Second Proxmox host
# PROXMOX_02_HOST=192.168.1.101

# Second Proxmox user
# PROXMOX_02_USER=apex@pve

# Second Proxmox token name (can reuse same name or use different)
# PROXMOX_02_TOKEN_NAME=glassdome-token

# Second Proxmox token value (NOTE: Uses PROXMOX_TOKEN_VALUE_02 format)
# PROXMOX_TOKEN_VALUE_02=your-second-token-secret-here

# Or use password for second instance:
# PROXMOX_02_PASSWORD=your-second-password-here

# Second Proxmox node name
# PROXMOX_02_NODE=pve

# SSL Verification for second instance
# PROXMOX_02_VERIFY_SSL=false

# ===================================================
# Proxmox Instance 03+ (Future Instances)
# ===================================================

# For additional instances, use the same pattern:
# PROXMOX_03_HOST=192.168.1.102
# PROXMOX_03_USER=apex@pve
# PROXMOX_TOKEN_VALUE_03=your-third-token-secret-here
# etc.

# ===================================================
# ESXi Configuration (No vCenter Required)
# ===================================================

# ESXi host (IP address or hostname)
ESXI_HOST=your-esxi-ip-or-hostname

# ESXi user (usually 'root')
ESXI_USER=root

# ESXi password
ESXI_PASSWORD=your-esxi-password

# ESXi datastore (leave empty to use first available)
# Check in ESXi UI: Storage → Datastores
ESXI_DATASTORE=datastore1

# ESXi network (default: "VM Network")
# Check in ESXi UI: Networking → Virtual switches
ESXI_NETWORK=VM Network

# SSL Verification (usually false for self-signed certs)
ESXI_VERIFY_SSL=false

# ESXi Ubuntu Template (cloud-init image)
# Download from: https://cloud-images.ubuntu.com/releases/22.04/release/ubuntu-22.04-server-cloudimg-amd64.ova
# Import to ESXi and set the template name here
ESXI_UBUNTU_TEMPLATE=ubuntu-2204-template

# ===================================================
# Ubuntu Template IDs
# ===================================================

# Template ID for Ubuntu 22.04 (create with docs/PROXMOX_SETUP.md)
UBUNTU_2204_TEMPLATE_ID=9000

# Template ID for Ubuntu 20.04
UBUNTU_2004_TEMPLATE_ID=9001

# ===================================================
# Backend Configuration
# ===================================================

# Backend API port (avoid conflicts with other projects)
BACKEND_PORT=8001

# Frontend dev server port
VITE_PORT=5174

# ===================================================
# Database Configuration (Future)
# ===================================================

# DATABASE_URL=postgresql://user:password@localhost:5432/glassdome

# ===================================================
# Azure Configuration (Future)
# ===================================================

# AZURE_SUBSCRIPTION_ID=
# AZURE_CLIENT_ID=
# AZURE_CLIENT_SECRET=
# AZURE_TENANT_ID=

# ===================================================
# AWS Configuration
# ===================================================

AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_DEFAULT_REGION=us-east-1

# ===================================================
# Mailcow Configuration (Email Integration)
# ===================================================

# Mailcow API credentials (HTTP Basic Auth)
MAIL_API=your-mailcow-bearer-token

# Mailcow API URL (IP address or hostname)
MAILCOW_API_URL=https://192.168.3.69

# Domain for mailboxes
MAILCOW_DOMAIN=xisx.org

# IMAP/SMTP hosts (optional, defaults to API URL host)
# MAILCOW_IMAP_HOST=192.168.3.69
# MAILCOW_SMTP_HOST=192.168.3.69
# MAILCOW_SMTP_PORT=587

# ===================================================
# Network Device Configuration (Cisco Switches & Ubiquiti Gateway)
# ===================================================

# Cisco Nexus 3064 (Datacenter Switch)
NEXUS_3064_HOST=your-nexus-3064-ip
NEXUS_3064_USER=admin
NEXUS_3064_PASSWORD=your-nexus-password
NEXUS_3064_SSH_PORT=22

# Cisco 3850-48 (POE Switch)
CISCO_3850_HOST=your-cisco-3850-ip
CISCO_3850_USER=admin
CISCO_3850_PASSWORD=your-cisco-3850-password
CISCO_3850_SSH_PORT=22

# Ubiquiti Gateway
UBIQUITI_GATEWAY_HOST=your-ubiquiti-gateway-ip
UBIQUITI_GATEWAY_USER=ubnt
UBIQUITI_GATEWAY_PASSWORD=your-ubiquiti-password
UBIQUITI_ACCESS_METHOD=ssh
# UBIQUITI_ACCESS_METHOD=api  # Use 'api' for UniFi Controller, 'ssh' for EdgeRouter/standalone
UBIQUITI_SSH_PORT=22

# ===================================================
# AI Services (Research Agent - LLM Integration)
# ===================================================

# NOTE: API keys are configured in ~/.bashrc and automatically available
# See docs/API_KEYS.md for complete documentation

# Available in environment (from ~/.bashrc):
# - OPENAI_API_KEY (GPT-4 for CVE analysis)
# - ANTHROPIC_API_KEY (Claude for deep analysis)
# - XAI_API_KEY (Grok alternative)
# - PERPLEXITY_API_KEY (Research queries)
# - GOOGLE_SEARCH_API (Exploit finding)
# - GOOGLE_ENGINE_ID (Google Custom Search)
# - RAPIDAPI_KEY (Various APIs)

# For Docker/containerized deployments, uncomment and set:
# OPENAI_API_KEY=${OPENAI_API_KEY}
# ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}

# ===================================================
# Quick Start Example
# ===================================================

# Here's what a complete configuration looks like:
#
# PROXMOX_HOST=192.168.1.50
# PROXMOX_USER=apex@pve
# PROXMOX_TOKEN_NAME=glassdome-token
# PROXMOX_TOKEN_VALUE=12345678-abcd-ef12-3456-7890abcdef12
# PROXMOX_VERIFY_SSL=false
# PROXMOX_NODE=pve
# UBUNTU_2204_TEMPLATE_ID=9000
# UBUNTU_2004_TEMPLATE_ID=9001
# BACKEND_PORT=8001
# VITE_PORT=5174

# ===================================================
# Setup Instructions
# ===================================================

# 1. Copy this file:
#    cp env.example .env
#
# 2. Edit .env with your values:
#    nano .env  (or vim, code, etc.)
#
# 3. Create Proxmox API token:
#    - Login to Proxmox Web UI
#    - Datacenter → Permissions → API Tokens → Add
#    - User: apex@pve
#    - Token ID: glassdome-token
#    - Uncheck "Privilege Separation"
#    - Copy the secret!
#
# 4. Test configuration:
#    python3 setup_proxmox.py
#
# 5. Create first VM:
#    python3 test_vm_creation.py

# ===================================================
# Need Help?
# ===================================================

# See documentation:
# - docs/GET_CREDENTIALS.md - How to get Proxmox credentials
# - docs/PROXMOX_API_TOKEN_EXAMPLE.md - Token format examples
# - docs/PROXMOX_SETUP.md - Complete setup guide
# - GETTING_STARTED.md - Step-by-step walkthrough
